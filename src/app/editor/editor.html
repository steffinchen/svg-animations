<div class="main">
  <div class="container">
    <div class="editor">
      <div>Keyframes</div>
      <textarea class="code keyframes" [(ngModel)]="keyframes"></textarea>
      <div>Animation</div>
      <textarea class="code css" [(ngModel)]="cssInput"></textarea>
    </div>
    <div class="canvas">
      <svg width="280" height="280" viewBox="0 0 280 280">
        <defs>
          <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
            <path
              d="
              M 20 0 L 20 20
              M 0 20 L 20 20
            "
              fill="none"
              stroke="hsl(0 0% 80%)"
              stroke-width="0.5"
            ></path>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#grid)" fill-opacity="0.5"></rect>

        <g transform="translate(140,100)">
          <path
            [attr.style]="'animation: ' + cssInput() + ';'"
            [class]="'heart'"
            d="
          M 0,0
          C 10, -30 
          50, -30
          60,0
          C 70,30
          30,50
          0,80
          C -30,50
          -70,30
          -60,0
          C -50,-30
          -10,-30
          0,0
        "
            fill="red"
            stroke="darkred"
            stroke-width="2"
          ></path>
        </g>
      </svg>
      <div><input type="checkbox" [(ngModel)]="stack" /><label>Stack Animations</label></div>
      <div class="tags">
        @for (tag of predefinedAnimations | keyvalue; track tag.key) {
          <span class="tag" (click)="applyPredefinedAnimation(tag.value)">{{
            tag.value.name
          }}</span>
        }
      </div>
    </div>
  </div>
</div>
